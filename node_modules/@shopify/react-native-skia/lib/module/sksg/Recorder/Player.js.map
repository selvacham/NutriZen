{"version":3,"names":["drawCircle","drawImage","drawOval","drawPath","drawPoints","drawRect","drawRRect","drawLine","drawAtlas","drawParagraph","drawImageSVG","drawPicture","drawGlyphs","drawTextBlob","drawTextPath","drawText","drawDiffRect","drawVertices","drawPatch","drawSkottie","drawBox","isBoxCommand","composeColorFilters","isPushColorFilter","pushColorFilter","saveCTM","setBlurMaskFilter","isPushImageFilter","pushImageFilter","composeImageFilters","setPaintProperties","composePathEffects","isPushPathEffect","pushPathEffect","isPushShader","pushShader","CommandType","isCommand","isDrawCommand","isGroup","materializeCommand","getZIndex","command","_materialized$props","materialized","zIndex","props","Number","isNaN","flushPendingGroups","ctx","pendingGroups","playFn","length","sort","a","b","order","forEach","playGroup","group","pending","children","child","push","play","_command","SaveBackdropFilter","saveBackdropFilter","SaveLayer","materializePaint","paint","paintDeclarations","pop","canvas","saveLayer","SavePaint","paints","standalone","savePaint","freshPaint","Skia","Paint","assign","RestorePaint","restorePaint","ComposeColorFilter","RestorePaintDeclaration","Error","MaterializePaint","ComposePathEffect","ComposeImageFilter","PushBlurMaskFilter","SaveCTM","RestoreCTM","restore","copy","setAlphaf","getAlphaf","getOpacity","p","DrawPaint","drawPaint","DrawImage","DrawCircle","DrawPoints","DrawPath","DrawRect","DrawRRect","DrawOval","DrawLine","DrawPatch","DrawVertices","DrawDiffRect","DrawText","DrawTextPath","DrawTextBlob","DrawGlyphs","DrawPicture","DrawImageSVG","DrawParagraph","DrawAtlas","DrawSkottie","console","warn","type","replay","commands"],"sources":["Player.ts"],"sourcesContent":["import type { DrawingNodeProps } from \"../../dom/types\";\n\nimport {\n  drawCircle,\n  drawImage,\n  drawOval,\n  drawPath,\n  drawPoints,\n  drawRect,\n  drawRRect,\n  drawLine,\n  drawAtlas,\n  drawParagraph,\n  drawImageSVG,\n  drawPicture,\n  drawGlyphs,\n  drawTextBlob,\n  drawTextPath,\n  drawText,\n  drawDiffRect,\n  drawVertices,\n  drawPatch,\n  drawSkottie,\n} from \"./commands/Drawing\";\nimport { drawBox, isBoxCommand } from \"./commands/Box\";\nimport {\n  composeColorFilters,\n  isPushColorFilter,\n  pushColorFilter,\n} from \"./commands/ColorFilters\";\nimport { saveCTM } from \"./commands/CTM\";\nimport {\n  setBlurMaskFilter,\n  isPushImageFilter,\n  pushImageFilter,\n  composeImageFilters,\n} from \"./commands/ImageFilters\";\nimport { setPaintProperties } from \"./commands/Paint\";\nimport {\n  composePathEffects,\n  isPushPathEffect,\n  pushPathEffect,\n} from \"./commands/PathEffects\";\nimport { isPushShader, pushShader } from \"./commands/Shaders\";\nimport {\n  CommandType,\n  isCommand,\n  isDrawCommand,\n  isGroup,\n  materializeCommand,\n} from \"./Core\";\nimport type { Command, GroupCommand } from \"./Core\";\nimport type { DrawingContext } from \"./DrawingContext\";\n\ntype PendingGroup = {\n  command: GroupCommand;\n  zIndex: number;\n  order: number;\n};\n\nconst getZIndex = (command: GroupCommand) => {\n  \"worklet\";\n  const materialized = materializeCommand(command);\n  const { zIndex } = (materialized.props ?? {}) as DrawingNodeProps;\n  if (typeof zIndex !== \"number\" || Number.isNaN(zIndex)) {\n    return 0;\n  }\n  return zIndex;\n};\n\nconst flushPendingGroups = (\n  ctx: DrawingContext,\n  pendingGroups: PendingGroup[],\n  playFn: (ctx: DrawingContext, cmd: Command) => void\n) => {\n  \"worklet\";\n  if (pendingGroups.length === 0) {\n    return;\n  }\n  pendingGroups\n    .sort((a, b) =>\n      a.zIndex === b.zIndex ? a.order - b.order : a.zIndex - b.zIndex\n    )\n    .forEach(({ command }) => {\n      playFn(ctx, command);\n    });\n  pendingGroups.length = 0;\n};\n\nconst playGroup = (\n  ctx: DrawingContext,\n  group: GroupCommand,\n  playFn: (ctx: DrawingContext, cmd: Command) => void\n) => {\n  \"worklet\";\n  const pending: PendingGroup[] = [];\n  group.children.forEach((child) => {\n    if (isGroup(child)) {\n      pending.push({\n        command: child,\n        zIndex: getZIndex(child),\n        order: pending.length,\n      });\n      return;\n    }\n    flushPendingGroups(ctx, pending, playFn);\n    playFn(ctx, child);\n  });\n  flushPendingGroups(ctx, pending, playFn);\n};\n\nconst play = (ctx: DrawingContext, _command: Command) => {\n  if (isGroup(_command)) {\n    playGroup(ctx, _command, play);\n    return;\n  }\n  const command = materializeCommand(_command);\n  if (isCommand(command, CommandType.SaveBackdropFilter)) {\n    ctx.saveBackdropFilter();\n  } else if (isCommand(command, CommandType.SaveLayer)) {\n    ctx.materializePaint();\n    const paint = ctx.paintDeclarations.pop();\n    ctx.canvas.saveLayer(paint);\n  } else if (isDrawCommand(command, CommandType.SavePaint)) {\n    if (command.props.paint) {\n      ctx.paints.push(command.props.paint);\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const { standalone } = command as any;\n      ctx.savePaint();\n      if (standalone) {\n        const freshPaint = ctx.Skia.Paint();\n        ctx.paint.assign(freshPaint);\n      }\n      setPaintProperties(ctx.Skia, ctx, command.props, standalone);\n    }\n  } else if (isCommand(command, CommandType.RestorePaint)) {\n    ctx.restorePaint();\n  } else if (isCommand(command, CommandType.ComposeColorFilter)) {\n    composeColorFilters(ctx);\n  } else if (isCommand(command, CommandType.RestorePaintDeclaration)) {\n    ctx.materializePaint();\n    const paint = ctx.restorePaint();\n    if (!paint) {\n      throw new Error(\"No paint declaration to push\");\n    }\n    ctx.paintDeclarations.push(paint);\n  } else if (isCommand(command, CommandType.MaterializePaint)) {\n    ctx.materializePaint();\n  } else if (isPushColorFilter(command)) {\n    pushColorFilter(ctx, command);\n  } else if (isPushShader(command)) {\n    pushShader(ctx, command);\n  } else if (isPushImageFilter(command)) {\n    pushImageFilter(ctx, command);\n  } else if (isPushPathEffect(command)) {\n    pushPathEffect(ctx, command);\n  } else if (isCommand(command, CommandType.ComposePathEffect)) {\n    composePathEffects(ctx);\n  } else if (isCommand(command, CommandType.ComposeImageFilter)) {\n    composeImageFilters(ctx);\n  } else if (isDrawCommand(command, CommandType.PushBlurMaskFilter)) {\n    setBlurMaskFilter(ctx, command.props);\n  } else if (isDrawCommand(command, CommandType.SaveCTM)) {\n    saveCTM(ctx, command.props);\n  } else if (isCommand(command, CommandType.RestoreCTM)) {\n    ctx.canvas.restore();\n  } else {\n    // TODO: is a copy needed here?\n    // apply opacity to the current paint.\n    const paint = ctx.paint.copy();\n    paint.setAlphaf(paint.getAlphaf() * ctx.getOpacity());\n    const paints = [paint, ...ctx.paintDeclarations];\n    ctx.paintDeclarations = [];\n    paints.forEach((p) => {\n      ctx.paints.push(p);\n      if (isBoxCommand(command)) {\n        drawBox(ctx, command);\n      } else if (isCommand(command, CommandType.DrawPaint)) {\n        ctx.canvas.drawPaint(ctx.paint);\n      } else if (isDrawCommand(command, CommandType.DrawImage)) {\n        drawImage(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawCircle)) {\n        drawCircle(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawPoints)) {\n        drawPoints(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawPath)) {\n        drawPath(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawRect)) {\n        drawRect(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawRRect)) {\n        drawRRect(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawOval)) {\n        drawOval(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawLine)) {\n        drawLine(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawPatch)) {\n        drawPatch(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawVertices)) {\n        drawVertices(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawDiffRect)) {\n        drawDiffRect(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawText)) {\n        drawText(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawTextPath)) {\n        drawTextPath(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawTextBlob)) {\n        drawTextBlob(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawGlyphs)) {\n        drawGlyphs(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawPicture)) {\n        drawPicture(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawImageSVG)) {\n        drawImageSVG(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawParagraph)) {\n        drawParagraph(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawAtlas)) {\n        drawAtlas(ctx, command.props);\n      } else if (isDrawCommand(command, CommandType.DrawSkottie)) {\n        drawSkottie(ctx, command.props);\n      } else {\n        console.warn(`Unknown command: ${command.type}`);\n      }\n      ctx.paints.pop();\n    });\n  }\n};\nexport function replay(ctx: DrawingContext, commands: Command[]) {\n  \"worklet\";\n  //console.log(debugTree(commands));\n  commands.forEach((command) => {\n    play(ctx, command);\n  });\n}\n"],"mappings":"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","ignoreList":[]}