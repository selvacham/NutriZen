{"version":3,"names":["_Core","require","CommandTypeNames","CommandType","Group","SavePaint","RestorePaint","SaveCTM","RestoreCTM","PushColorFilter","PushBlurMaskFilter","PushImageFilter","PushPathEffect","PushShader","ComposeColorFilter","ComposeImageFilter","ComposePathEffect","MaterializePaint","SaveBackdropFilter","SaveLayer","RestorePaintDeclaration","DrawBox","DrawImage","DrawCircle","DrawPaint","DrawPoints","DrawPath","DrawRect","DrawRRect","DrawOval","DrawLine","DrawPatch","DrawVertices","DrawDiffRect","DrawText","DrawTextPath","DrawTextBlob","DrawGlyphs","DrawPicture","DrawImageSVG","DrawParagraph","DrawAtlas","DrawSkottie","serializeProps","props","JSON","stringify","key","value","undefined","toString","e","debugTree","commands","indent","result","prefix","repeat","forEach","cmd","index","type","isGroup","children","length","exports"],"sources":["Debug.ts"],"sourcesContent":["import { CommandType, isGroup } from \"./Core\";\nimport type { Command } from \"./Core\";\n\nconst CommandTypeNames: Record<CommandType, string> = {\n  [CommandType.Group]: \"Group\",\n  [CommandType.SavePaint]: \"SavePaint\",\n  [CommandType.RestorePaint]: \"RestorePaint\",\n  [CommandType.SaveCTM]: \"SaveCTM\",\n  [CommandType.RestoreCTM]: \"RestoreCTM\",\n  [CommandType.PushColorFilter]: \"PushColorFilter\",\n  [CommandType.PushBlurMaskFilter]: \"PushBlurMaskFilter\",\n  [CommandType.PushImageFilter]: \"PushImageFilter\",\n  [CommandType.PushPathEffect]: \"PushPathEffect\",\n  [CommandType.PushShader]: \"PushShader\",\n  [CommandType.ComposeColorFilter]: \"ComposeColorFilter\",\n  [CommandType.ComposeImageFilter]: \"ComposeImageFilter\",\n  [CommandType.ComposePathEffect]: \"ComposePathEffect\",\n  [CommandType.MaterializePaint]: \"MaterializePaint\",\n  [CommandType.SaveBackdropFilter]: \"SaveBackdropFilter\",\n  [CommandType.SaveLayer]: \"SaveLayer\",\n  [CommandType.RestorePaintDeclaration]: \"RestorePaintDeclaration\",\n  [CommandType.DrawBox]: \"DrawBox\",\n  [CommandType.DrawImage]: \"DrawImage\",\n  [CommandType.DrawCircle]: \"DrawCircle\",\n  [CommandType.DrawPaint]: \"DrawPaint\",\n  [CommandType.DrawPoints]: \"DrawPoints\",\n  [CommandType.DrawPath]: \"DrawPath\",\n  [CommandType.DrawRect]: \"DrawRect\",\n  [CommandType.DrawRRect]: \"DrawRRect\",\n  [CommandType.DrawOval]: \"DrawOval\",\n  [CommandType.DrawLine]: \"DrawLine\",\n  [CommandType.DrawPatch]: \"DrawPatch\",\n  [CommandType.DrawVertices]: \"DrawVertices\",\n  [CommandType.DrawDiffRect]: \"DrawDiffRect\",\n  [CommandType.DrawText]: \"DrawText\",\n  [CommandType.DrawTextPath]: \"DrawTextPath\",\n  [CommandType.DrawTextBlob]: \"DrawTextBlob\",\n  [CommandType.DrawGlyphs]: \"DrawGlyphs\",\n  [CommandType.DrawPicture]: \"DrawPicture\",\n  [CommandType.DrawImageSVG]: \"DrawImageSVG\",\n  [CommandType.DrawParagraph]: \"DrawParagraph\",\n  [CommandType.DrawAtlas]: \"DrawAtlas\",\n  [CommandType.DrawSkottie]: \"DrawSkottie\",\n};\n\nconst serializeProps = (props: unknown): string => {\n  try {\n    return JSON.stringify(props, (key, value) => {\n      if (key === \"children\") {\n        return undefined;\n      }\n      if (typeof value === \"bigint\") {\n        return value.toString();\n      }\n      return value;\n    });\n  } catch (e) {\n    return `\"Error serializing props: ${e}\"`;\n  }\n};\n\nexport const debugTree = (commands: Command[], indent = 0): string => {\n  let result = \"[\\n\";\n  const prefix = \" \".repeat(indent + 2);\n\n  commands.forEach((cmd, index) => {\n    const type = CommandTypeNames[cmd.type] || \"Unknown\";\n    result += `${prefix}{ \"type\": \"${type}\"`;\n\n    if (\"props\" in cmd) {\n      result += `, \"props\": ${serializeProps(cmd.props)}`;\n    }\n\n    if (isGroup(cmd)) {\n      result += `, \"children\": ${debugTree(cmd.children, indent + 2)}`;\n    }\n\n    result += \" }\";\n    if (index < commands.length - 1) {\n      result += \",\";\n    }\n    result += \"\\n\";\n  });\n\n  result += \" \".repeat(indent) + \"]\";\n  return result;\n};\n"],"mappings":"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","ignoreList":[]}